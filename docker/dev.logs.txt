#0 building with "desktop-linux" instance using docker driver

#1 [client internal] load build definition from Dockerfile
#1 transferring dockerfile: 212B done
#1 DONE 0.0s

#2 [server internal] load build definition from Dockerfile
#2 transferring dockerfile: 206B done
#2 DONE 0.0s

#3 [server internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 0.5s

#4 [server internal] load .dockerignore
#4 transferring context: 52B done
#4 DONE 0.0s

#5 [client 1/6] FROM docker.io/library/node:20-alpine@sha256:24fb6aa7020d9a20b00d6da6d1714187c45ed00d1eb4adb01395843c338b9372
#5 DONE 0.0s

#6 [client internal] load .dockerignore
#6 transferring context: 56B done
#6 DONE 0.0s

#7 [server internal] load build context
#7 transferring context: 842.06kB 0.1s done
#7 DONE 0.1s

#8 [client 2/6] RUN corepack enable
#8 CACHED

#9 [client 3/6] WORKDIR /dash
#9 CACHED

#10 [server 4/6] COPY . .
#10 DONE 0.1s

#11 [server 5/6] WORKDIR /dash/server
#11 DONE 0.1s

#12 [client internal] load build context
#12 ...

#13 [server 6/6] COPY package*.json ./
#13 DONE 0.1s

#12 [client internal] load build context
#12 ...

#14 [server] exporting to image
#14 exporting layers 0.1s done
#14 writing image sha256:8f90dfebd6c43539c6fcb277f4f8724ac68163a969c648ead3f18cdf1445b052 done
#14 naming to docker.io/library/docker-server done
#14 DONE 0.1s

#12 [client internal] load build context
#12 transferring context: 133.77MB 2.5s done
#12 DONE 2.5s

#15 [client 4/8] COPY . .
#15 DONE 0.5s

#16 [client 5/8] RUN yarn install
#16 0.421 ! Corepack is about to download https://repo.yarnpkg.com/4.6.0/packages/yarnpkg-cli/bin/yarn.js
#16 0.973 ➤ YN0000: · Yarn 4.6.0
#16 0.981 ➤ YN0000: ┌ Resolution step
#16 1.153 ➤ YN0000: └ Completed
#16 1.154 ➤ YN0000: ┌ Post-resolution validation
#16 1.154 ➤ YN0002: │ @dash/server@workspace:server doesn't provide @types/node (p3d084), requested by ts-node and other dependencies.
#16 1.154 ➤ YN0086: │ Some peer dependencies are incorrectly met by your project; run yarn explain peer-requirements <hash> for details, where <hash> is the six-letter p-prefixed code.
#16 1.154 ➤ YN0086: │ Some peer dependencies are incorrectly met by dependencies; run yarn explain peer-requirements for details.
#16 1.154 ➤ YN0000: └ Completed
#16 1.154 ➤ YN0000: ┌ Fetch step
#16 6.888 ➤ YN0013: │ 1083 packages were added to the project (+ 346.32 MiB).
#16 6.888 ➤ YN0000: └ Completed in 5s 734ms
#16 6.924 ➤ YN0000: ┌ Link step
#16 12.16 ➤ YN0007: │ msw@npm:2.7.0 [62814] must be built because it never has been before or the last one failed
#16 12.16 ➤ YN0007: │ esbuild@npm:0.21.5 must be built because it never has been before or the last one failed
#16 12.16 ➤ YN0007: │ @parcel/watcher@npm:2.5.0 must be built because it never has been before or the last one failed
#16 12.16 ➤ YN0007: │ bson@npm:0.1.9 must be built because it never has been before or the last one failed
#16 12.16 ➤ YN0007: │ bson@npm:0.1.8 must be built because it never has been before or the last one failed
#16 12.16 ➤ YN0007: │ esbuild@npm:0.24.2 must be built because it never has been before or the last one failed
#16 12.16 ➤ YN0007: │ esbuild@npm:0.23.1 must be built because it never has been before or the last one failed
#16 12.60 ➤ YN0000: └ Completed in 5s 673ms
#16 12.67 ➤ YN0000: · Done with warnings in 11s 696ms
#16 DONE 13.4s

#17 [client 6/8] COPY . .
#17 DONE 0.5s

#18 [client 7/8] WORKDIR /dash/client
#18 DONE 0.1s

#19 [client 8/8] COPY ./client/package*.json .
#19 DONE 0.1s

#20 [client] exporting to image
#20 exporting layers
#20 exporting layers 3.3s done
#20 writing image sha256:c6e210eb8b9b6759614697d5294460e707556fef9ad506d8bed936a3741f7929 done
#20 naming to docker.io/library/docker-client done
#20 DONE 3.3s
 Container docker-nginx-1  Stopping
 Container docker-nginx-1  Stopped
 Container docker-nginx-1  Removing
 Container docker-nginx-1  Removed
 Container docker-database-1  Recreate
 Container docker-client-1  Creating
 Container docker-test-database-1  Creating
 Container docker-store-1  Recreate
 Container docker-client-1  Created
 Container docker-test-database-1  Created
 Container docker-store-1  Recreated
 Container docker-database-1  Recreated
 Container docker-server-1  Recreate
 Container docker-server-1  Recreated
Attaching to client-1, database-1, server-1, store-1, test-database-1
store-1          | 1:C 17 Jan 2025 01:23:17.269 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
store-1          | 1:C 17 Jan 2025 01:23:17.269 * Redis version=7.4.0, bits=64, commit=00000000, modified=0, pid=1, just started
store-1          | 1:C 17 Jan 2025 01:23:17.269 * Configuration loaded
store-1          | 1:M 17 Jan 2025 01:23:17.269 * monotonic clock: POSIX clock_gettime
store-1          | 1:M 17 Jan 2025 01:23:17.270 * Running mode=standalone, port=6379.
store-1          | 1:M 17 Jan 2025 01:23:17.270 * Server initialized
store-1          | 1:M 17 Jan 2025 01:23:17.277 * Reading RDB base file on AOF loading...
store-1          | 1:M 17 Jan 2025 01:23:17.277 * Loading RDB produced by version 7.4.0
store-1          | 1:M 17 Jan 2025 01:23:17.277 * RDB age 299353 seconds
store-1          | 1:M 17 Jan 2025 01:23:17.277 * RDB memory usage when created 0.90 Mb
store-1          | 1:M 17 Jan 2025 01:23:17.277 * RDB is base AOF
store-1          | 1:M 17 Jan 2025 01:23:17.277 * Done loading RDB, keys loaded: 0, keys expired: 0.
store-1          | 1:M 17 Jan 2025 01:23:17.278 * DB loaded from base file appendonly.aof.1.base.rdb: 0.002 seconds
store-1          | 1:M 17 Jan 2025 01:23:17.279 * DB loaded from append only file: 0.006 seconds
store-1          | 1:M 17 Jan 2025 01:23:17.281 * Opening AOF incr file appendonly.aof.1.incr.aof on server start
store-1          | 1:M 17 Jan 2025 01:23:17.281 * Ready to accept connections tcp
server-1         | ! Corepack is about to download https://repo.yarnpkg.com/4.6.0/packages/yarnpkg-cli/bin/yarn.js
client-1         | ➤ YN0000: · Yarn 4.6.0
client-1         | ➤ YN0000: ┌ Resolution step
test-database-1  | 
test-database-1  | PostgreSQL Database directory appears to contain a database; Skipping initialization
test-database-1  | 
database-1       | 
database-1       | PostgreSQL Database directory appears to contain a database; Skipping initialization
database-1       | 
client-1         | ➤ YN0000: └ Completed
client-1         | ➤ YN0000: ┌ Post-resolution validation
client-1         | ➤ YN0002: │ @dash/server@workspace:server doesn't provide @types/node (p3d084), requested by ts-node and other dependencies.
client-1         | ➤ YN0086: │ Some peer dependencies are incorrectly met by your project; run yarn explain peer-requirements <hash> for details, where <hash> is the six-letter p-prefixed code.
client-1         | ➤ YN0086: │ Some peer dependencies are incorrectly met by dependencies; run yarn explain peer-requirements for details.
client-1         | ➤ YN0000: └ Completed
client-1         | ➤ YN0000: ┌ Fetch step
database-1       | 2025-01-17 01:23:18.603 UTC [1] LOG:  starting PostgreSQL 14.12 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20240309) 13.2.1 20240309, 64-bit
database-1       | 2025-01-17 01:23:18.603 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
database-1       | 2025-01-17 01:23:18.603 UTC [1] LOG:  listening on IPv6 address "::", port 5432
database-1       | 2025-01-17 01:23:18.612 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
test-database-1  | 2025-01-17 01:23:18.625 UTC [1] LOG:  starting PostgreSQL 14.12 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20240309) 13.2.1 20240309, 64-bit
test-database-1  | 2025-01-17 01:23:18.625 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5434
test-database-1  | 2025-01-17 01:23:18.625 UTC [1] LOG:  listening on IPv6 address "::", port 5434
test-database-1  | 2025-01-17 01:23:18.632 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5434"
database-1       | 2025-01-17 01:23:18.639 UTC [27] LOG:  database system was shut down at 2025-01-17 01:22:48 UTC
test-database-1  | 2025-01-17 01:23:18.659 UTC [27] LOG:  database system was shut down at 2025-01-16 23:00:12 UTC
database-1       | 2025-01-17 01:23:18.664 UTC [1] LOG:  database system is ready to accept connections
test-database-1  | 2025-01-17 01:23:18.702 UTC [1] LOG:  database system is ready to accept connections
server-1         | ➤ YN0000: · Yarn 4.6.0
server-1         | ➤ YN0000: ┌ Resolution step
server-1         | ➤ YN0000: └ Completed
server-1         | ➤ YN0000: ┌ Post-resolution validation
server-1         | ➤ YN0002: │ @dash/server@workspace:server doesn't provide @types/node (p3d084), requested by ts-node and other dependencies.
server-1         | ➤ YN0086: │ Some peer dependencies are incorrectly met by your project; run yarn explain peer-requirements <hash> for details, where <hash> is the six-letter p-prefixed code.
server-1         | ➤ YN0086: │ Some peer dependencies are incorrectly met by dependencies; run yarn explain peer-requirements for details.
server-1         | ➤ YN0000: └ Completed
server-1         | ➤ YN0000: ┌ Fetch step
client-1         | ➤ YN0000: └ Completed in 0s 543ms
client-1         | ➤ YN0000: ┌ Link step
client-1         | ➤ YN0000: └ Completed in 0s 552ms
client-1         | ➤ YN0000: · Done with warnings in 1s 360ms
server-1         | ➤ YN0013: │ 1083 packages were added to the project (+ 346.32 MiB).
server-1         | ➤ YN0000: └ Completed in 6s 156ms
server-1         | ➤ YN0000: ┌ Link step
server-1         | ➤ YN0000: └ Completed in 0s 910ms
server-1         | ➤ YN0000: · Done with warnings in 7s 311ms
client-1         | 
client-1         | ♻️  Generating routes...
client-1         | ✅ Processed routes in 256ms
client-1         | 
client-1         |   VITE v6.0.7  ready in 8235 ms
client-1         | 
client-1         |   ➜  Local:   http://localhost:5175/
client-1         |   ➜  Network: http://172.18.0.4:5175/
database-1       | 2025-01-17 01:23:36.353 UTC [34] LOG:  execute uho5sf537f1: 
database-1       | 	      select b.oid, b.typarray
database-1       | 	      from pg_catalog.pg_type a
database-1       | 	      left join pg_catalog.pg_type b on b.oid = a.typelem
database-1       | 	      where a.typcategory = 'A'
database-1       | 	      group by b.oid, b.typarray
database-1       | 	      order by b.oid
database-1       | 	    
database-1       | 2025-01-17 01:23:36.357 UTC [34] LOG:  execute uho5sf537f2: SELECT array[1]
server-1         | hi
server-1         | 2025-01-17T01:23:36.359Z: server is running on port 5000
server-1         | 1:25:38 AM [tsx] change in ./src/lib/trpc.ts Restarting...
server-1         | 1:25:40 AM [tsx] change in ./src/lib/trpc.ts Restarting...
database-1       | 2025-01-17 01:25:46.831 UTC [37] LOG:  execute 0sj2qhqikcx1: 
database-1       | 	      select b.oid, b.typarray
database-1       | 	      from pg_catalog.pg_type a
database-1       | 	      left join pg_catalog.pg_type b on b.oid = a.typelem
database-1       | 	      where a.typcategory = 'A'
database-1       | 	      group by b.oid, b.typarray
database-1       | 	      order by b.oid
database-1       | 	    
database-1       | 2025-01-17 01:25:46.834 UTC [37] LOG:  execute 0sj2qhqikcx2: SELECT array[1]
server-1         | hi
server-1         | 2025-01-17T01:25:46.836Z: server is running on port 5000
database-1       | 2025-01-17 01:25:47.701 UTC [37] LOG:  execute 0sj2qhqikcx3: select array[1]
database-1       | 2025-01-17 01:26:12.601 UTC [37] LOG:  execute 0sj2qhqikcx3: select array[1]
Gracefully stopping... (press Ctrl+C again to force)
 Container docker-client-1  Stopping
 Container docker-server-1  Stopping
 Container docker-test-database-1  Stopping
 Container docker-test-database-1  Stopped
 Container docker-server-1  Stopped
 Container docker-store-1  Stopping
 Container docker-database-1  Stopping
 Container docker-client-1  Stopped
 Container docker-database-1  Stopped
 Container docker-store-1  Stopped
canceled
